<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>要进 - 在线扑克游戏</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/game.css">
  <link rel="stylesheet" href="css/animations.css">
</head>
<body>
  <div id="app">
    <!-- 提示框容器 -->
    <div id="toast-container"></div>

    <!-- 加载页面 -->
    <div id="loading-screen" class="screen active">
      <div class="loading-content">
        <div class="logo-container">
          <h1 class="logo-text">要进</h1>
          <p class="logo-subtitle">YAOJIN POKER</p>
        </div>
        <div class="loading-bar">
          <div class="loading-progress"></div>
        </div>
        <p class="loading-text">正在加载资源...</p>
      </div>
    </div>

    <!-- 登录页面 -->
    <div id="login-screen" class="screen">
      <div class="login-bg"></div>
      <div class="login-container">
        <div class="login-header">
          <h1 class="logo-text">要进</h1>
          <p class="tagline">经典扑克，趣味无限</p>
        </div>
        <div class="login-form">
          <div class="form-group">
            <input type="text" id="nickname-input" placeholder="请输入您的昵称" maxlength="12">
          </div>
          <button class="btn btn-primary btn-large btn-block" id="quick-start-btn">
            <span>🚀</span> 快速开始
          </button>
          <div class="login-divider">或</div>
          <div class="login-options">
            <button class="btn btn-secondary" id="create-room-btn">创建房间</button>
            <button class="btn btn-secondary" id="join-room-btn">加入房间</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 大厅页面 -->
    <div id="lobby-screen" class="screen">
      <div class="lobby-container">
        <header class="lobby-header">
          <div class="user-profile">
            <div class="avatar-circle" id="lobby-avatar">玩</div>
            <div class="user-info">
              <div class="username" id="lobby-username">玩家</div>
              <div class="user-id" id="lobby-userid">ID: 123456</div>
            </div>
          </div>
          <div class="lobby-actions">
            <button class="icon-btn" id="settings-btn">⚙️</button>
          </div>
        </header>

        <main class="lobby-main">
          <div class="game-mode-grid">
            <div class="mode-card primary" id="mode-quick">
              <div class="mode-icon">⚡</div>
              <div class="mode-title">快速开始</div>
              <div class="mode-desc">单机/匹配</div>
            </div>
            <div class="mode-card secondary" id="mode-friend">
              <div class="mode-icon">🏠</div>
              <div class="mode-title">好友房</div>
              <div class="mode-desc">创建/加入</div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- 游戏页面 -->
    <div id="game-screen" class="screen">
      <div class="game-table">
        <!-- 顶部信息栏 -->
        <div class="game-header">
          <button class="btn-small btn-back" id="exit-game-btn">退出</button>
          <div class="room-info">
            <span id="room-id-display">单机模式</span>
          </div>
          <button class="btn-small btn-settings" id="game-settings-btn">设置</button>
        </div>

        <!-- 对手区域 (上) -->
        <div class="opponent-area top" id="opponent-top">
          <div class="player-info">
            <div class="avatar">A</div>
            <div class="name">机器人A</div>
            <div class="score">💰 1000</div>
          </div>
          <div class="card-count-badge">17</div>
          <div class="last-played-cards" id="last-played-top"></div>
          <div class="turn-indicator hidden">⏳</div>
          <div class="opponent-timer hidden" id="timer-top">30s</div>
          <div class="speech-bubble hidden"></div>
        </div>

        <!-- 对手区域 (左) -->
        <div class="opponent-area left" id="opponent-left">
          <div class="player-info">
            <div class="avatar">B</div>
            <div class="name">机器人B</div>
            <div class="score">💰 1000</div>
          </div>
          <div class="card-count-badge">17</div>
          <div class="last-played-cards" id="last-played-left"></div>
          <div class="turn-indicator hidden">⏳</div>
          <div class="opponent-timer hidden" id="timer-left">30s</div>
          <div class="speech-bubble hidden"></div>
        </div>

        <!-- 对手区域 (右 - 4人局预留) -->
        <div class="opponent-area right hidden" id="opponent-right">
          <!-- ... -->
        </div>

        <!-- 中央区域 -->
        <div class="center-area">
          <!-- 倒计时/状态提示 -->
          <div id="timer-section" class="hidden">
            <div class="timer-circle">
              <span class="timer-text">30</span>
            </div>
          </div>
          
          <!-- 自己的出牌展示区 -->
          <div class="last-played-cards self" id="last-played-self"></div>
        </div>

        <!-- 玩家区域 (底) -->
        <div class="player-area bottom">
          <!-- 操作按钮栏 (悬浮在手牌上方) -->
          <div class="action-bar" id="action-bar">
            <button class="btn btn-action btn-pass hidden" id="btn-pass">不要</button>
            <button class="btn btn-action btn-hint hidden" id="btn-hint">提示</button>
            <button class="btn btn-action btn-play hidden" id="btn-play">出牌</button>
            <button class="btn btn-action btn-prepare hidden" id="btn-prepare">准备</button>
          </div>

          <!-- 手牌区域 -->
          <div class="hand-cards-container">
            <div id="hand-cards" class="hand-cards"></div>
          </div>

          <!-- 玩家信息 -->
          <div class="my-info">
            <div class="avatar" id="my-avatar">我</div>
            <div class="details">
              <div class="name" id="my-name">玩家</div>
              <div class="score" id="my-score">💰 1000</div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 结算弹窗 -->
      <div id="result-modal" class="modal hidden">
        <div class="modal-content result-content">
          <h2 id="result-title">胜利!</h2>
          <div class="result-scores" id="result-scores"></div>
          <button class="btn btn-primary" id="result-confirm-btn">继续游戏</button>
        </div>
      </div>

      <!-- 房间弹窗 -->
      <div id="room-modal" class="modal hidden">
        <div class="modal-content">
          <div class="modal-header">
            <div class="tab-group">
              <button class="tab-btn active" data-tab="create">创建房间</button>
              <button class="tab-btn" data-tab="join">加入房间</button>
            </div>
            <button class="close-btn" id="close-room-modal">×</button>
          </div>
          <div class="modal-body">
            <!-- 创建房间表单 -->
            <div id="create-room-form" class="tab-content active">
              <div class="form-group">
                <label>人数</label>
                <div class="radio-group">
                  <label><input type="radio" name="player-count" value="3" checked> 3人</label>
                  <label><input type="radio" name="player-count" value="4"> 4人</label>
                </div>
              </div>
              <button class="btn btn-primary btn-block" id="confirm-create-btn">创建</button>
            </div>
            <!-- 加入房间表单 -->
            <div id="join-room-form" class="tab-content">
              <div class="form-group">
                <input type="text" id="room-id-input" placeholder="输入房间号" maxlength="6">
              </div>
              <button class="btn btn-primary btn-block" id="confirm-join-btn">加入</button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script src="js/utils.js"></script>
  <script src="js/sound.js"></script>
  <script src="js/cards.js"></script>
  <script src="js/patterns.js"></script>
  <script src="js/game.js"></script>
  <script src="js/network.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
